{% extends "admin/layout/crud-layout.html.twig" %}

{% block title %}
	{{appName}}
	- Bon de commande
{% endblock %}

{% block page_content %}

    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-body">
                    <div class="row mb-4">
                        <h5 class="font-size-14"><i class="mdi mdi-arrow-right text-primary me-1"></i>Filtre</h5>
                        <form class="row gx-3 align-items-center">
                            <div class="col-sm-3">
                                <label class="form-label font-size-13 text-muted" for="filtre-fournisseur">Fournisseur</label>
                                <select onchange="cmdFournisseur.reloadDatatable(event)" class="form-control form-select" data-trigger name="filtre-fournisseur" id="filtre-fournisseur" placeholder=""></select>
                            </div>                          
                            <div class="col-sm-3">
                                {# <label class="form-label font-size-13 text-muted" for="filtre-date">Dates</label>
                                <div class="input-group datepicker-range">
                                    <input type="text" id="filtre-date" class="form-control flatpickr-input" data-input aria-describedby="date1">
                                    <button class="input-group-text" id="date1" data-toggle><i class="bx bx-calendar-event"></i></button>
                                </div> #}
                            </div>
                            <div class="col-sm-6 text-right">
                                <div class="d-flex align-items-center justify-content-end gap-1">
                                    <div onclick="approvisionnement.newItemEvent(event)">
                                        <a href="{{ path('gstk_cmd_fournisseur_new') }}" class="btn btn-light waves-effect waves-light">
                                            <i class="bx bx-plus me-1"></i>
                                            Nouvel Ajout</a>
                                    </div>                                
                                    <div class="dropdown">
                                        <a class="btn btn-link text-muted py-1 font-size-16 shadow-none dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                            <i class="bx bx-dots-horizontal-rounded"></i>
                                        </a>                              
                                        <ul class="dropdown-menu dropdown-menu-end">
                                            <li>
                                                <a class="dropdown-item" onclick="cmdFournisseur.reloadDatatable(event)" href="javascript:void(0);">Actualiser</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>                            
                            </div>                            
                        </form>
                    </div>
                    <!-- end row -->
                    <div class="table-responsive">
                        <table class="table align-middle datatable dt-responsive table-check nowrap" style="border-collapse: collapse; border-spacing: 0 8px; width: 100%;">
                            <thead>
                                <tr class="bg-transparent">
                                    <th style="width: 30px;">
                                        <div class="form-check font-size-16">
                                            <input type="checkbox" name="check" class="form-check-input" id="checkAll">
                                            <label class="form-check-label" for="checkAll"></label>
                                        </div>
                                    </th>
                                    <th style="width: 120px;">Numero</th>
                                    <th>Date</th>
                                    <th>Fournisseur</th>
                                    <th>Mnt Total</th>
                                    <th style="width: 150px;">Générer Pdf</th>
                                    <th>Status</th>
                                    <th style="width: 90px;">Action</th>
                                </tr>
                            </thead>
                            <tbody>                                
                            </tbody>
                        </table>
                    </div>
                    <!-- end table responsive -->
                </div>
                <!-- end card body -->
            </div>
            <!-- end card -->
        </div>
        <!-- end col -->
    </div>
    <!-- end row -->

{% endblock %}

{% block page_custom_scripts %}
	<script>
		const URL_LIST_ITEM_BY_FOURNISSEUR = "{{ url_list_item_by_fournisseur }}";
		const URL_LIST_FOURNISSEUR = "{{ url_list_fournisseur }}";
		const URL_ITEM_DETAIL = "{{ path('gstk_cmd_fournisseur_detail', {id: '0'})|escape('js') }}";
        const URL_IMPRIMER_CMD_FOURNISSEUR = "{{ url_imprimer_item }}";
	</script>
	<!-- init js -->
	<script src="{{ asset('assets/js/custom/stock/commande-fournisseur/index.init.js') }}"></script>
    <!-- printer init js -->
	<script src="{{ asset('assets/js/custom/stock/commande-fournisseur/printer.init.js') }}"></script>
{% endblock %}
